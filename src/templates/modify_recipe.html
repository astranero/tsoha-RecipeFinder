
{% extends "layout.html" %}

{% block content %}

<body>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.min.js" integrity="sha384-kjU+l4N0Yf4ZOJErLsIcvOU2qSb74wXpOhqTvwVx3OElZRweTnQ6d31fXEoRD1Jy" crossorigin="anonymous"></script>

    <div class="limiter">
        <div class="wrap-basic font spacing-normal">
            <div class="page-title-layout title-layout">Modify recipe</b></div>
            <div class="form-location">
            <form action="/manage-recipes/modify-recipe/{{recipe.id}}" method="POST">
                <div class="mb-3">
                    <label for="edited_recipe_name" class="form-label">Recipe name</label>
                    <input type="text" class="form-control spacing-normal" value="{{recipe.recipe_name}}" name="edited_recipe_name" id="edited_recipe_name">
                </div>
                <div class="mb-3">
                    <label for="edited_cook_time" class="form-label">Cook time</label>
                    <input type="text" class="form-control spacing-normal" value="{{recipe.cook_time}}" name="edited_cook_time" id="edited_cook_time">
                </div>
                <div class="mb-3">
                    <label for="edited_description" class="form-label">Description</label>
                    <input for="description_txt" type="hidden" class="form-control spacing-normal" value="{{recipe.description}}" name="edited_description" id="edited_description">
                    <textarea class="form-control" name="description_txt" id="description_txt">{{recipe.description}}</textarea>
                </div>
                <div class="mb-3">
                    <label class="form-label">Ingredients (e.g. 2dl milk)</label>
                    {% for item in ingredients %}
                    <div id="remove">
                    <input type="hidden" name="edited_ingredient_id" id="edited_ingredient_id" value="{{item[1]}}">
                    <input class="form-control spacing-normal" type="text" name="edited_ingredient" id="edited_ingredient" value="{{item[0]}}">
                    </div>
                    {% endfor %}
                    <div class="ingredient_input" id="ingredient_input">
                    </div>
                </div>
                <div class="top-padding">
                <button type="button" class="btn btn-outline-success spacing-normal" id="add_more_fields" name="add_more_fields">
                    Add new ingredients
                </button>
                <button type="button" class="btn btn-outline-danger spacing-normal" id="remove_fields" name="add_more_fields">
                    Remove ingredient (only new ingredients)
                </button>
                </div>
                <div class="mb-3 top-padding spacing-normal">
                    <label for="edited_instructions" class="form-label">Instructions</label>
                    <input for="instructions_txt" type="hidden" class="form-control" name="edited_instructions" id="edited_instructions">
                    <textarea class="form-control spacing-normal" name="instructions_txt" id="instructions_txt">{{recipe.instructions}}</textarea>
                </div>

                <button type="submit" class="btn btn-secondary spacing-normal">Submit changes</button>
                <a href="/manage-recipes" class="btn btn-dark">Back to recipe managements</a>
                <input type="hidden" name="csrf_token" value="{{ session.csrf_token }}">
            </form>
            <div class="text-padding"></div>
            </div>
        </div>
    </div>
    <script src="{{ url_for('static', filename='js/modifyIngredients.js') }}"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous"></script>

</body>
{% endblock %}