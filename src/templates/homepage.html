{% extends "layout.html" %}

{% block content %}
<body>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.min.js" integrity="sha384-kjU+l4N0Yf4ZOJErLsIcvOU2qSb74wXpOhqTvwVx3OElZRweTnQ6d31fXEoRD1Jy" crossorigin="anonymous"></script>
    <div class="limiter font spacing-normal">
        <div class="wrap-filter">
            <div class="order-by-location">Order by:</div>
            <div class="search-box search-box-location">
                <form class="form-inline my-lg-0" action="/homepage" method="POST">
                    <input class="search-box-length form-control mr-sm-2 col-xs-4 " type="search" placeholder="Search" aria-label="Search" id="search" name="search" value="{{ request.form['search'] }}">
                    <button class="btn btn-outline-secondary my-2 my-sm-0" type="submit">Search</button>
                    <input type="hidden" name="csrf_token" value="{{ session.csrf_token }}">
                </form>
            </div>
            <div class="order-by-oldest-location">
                <form action="/homepage" method="POST">
                    <input type="hidden" name="order-by-oldest" id="order_by_oldest" value="{{ request.form.get('order_by_oldest') }}">
                    <button class="btn btn-outline-secondary" type="submit">Oldest-Newest</button>
                    <input type="hidden" name="csrf_token" value="{{ session.csrf_token }}">

                </form>
            </div>
            <div class="order-by-newest-location">
                <form action="/homepage" method="POST">
                    <input type="hidden" name="order_by_newest" id="order_by_newest" value="{{ request.form.get('order_by_newest') }}">
                    <button class="btn btn-outline-secondary" type="submit" >Newest-Oldest</button>
                    <input type="hidden" name="csrf_token" value="{{ session.csrf_token }}">

                </form>
            </div>
            <div class="order-by-review-location">
                <form action="/homepage" method="POST">
                    <input type="hidden" name="order_by_review" id="order_by_review" value="{{ request.form.get('order_by_review') }}">
                    <button class="btn btn-outline-secondary" type="submit" >Best review - Worst review</button>
                    <input type="hidden" name="csrf_token" value="{{ session.csrf_token }}">

                </form>
            </div>
            <div class="order-by-name-location">
                <form action="/homepage" method="POST">
                    <input type="hidden" name="order_by_name" id="order_by_name" value="{{ request.form.get('order_by_name') }}">
                    <button class="btn btn-outline-secondary" type="submit" >A-Z</button>
                    <input type="hidden" name="csrf_token" value="{{ session.csrf_token }}">

                </form>
            </div>
        </div>
        </div>
        {% if recipe_all %}
        <div class="wrap-all-recipes font">
            {% for item in recipe_all %}
            <div class="card">
                <div class="card-body">
                  <h5 class="card-title spacing-normal">{{item[1]}}</h5>
                  <b><p class="card-text">Cook time: {{item[2]}}</p></b>
                  <p class="card-text">{{item[3]}}</p>
                  {% if item[5] == 0.0 %}
                  <p class="card-text">Review: <i>No reviews yet!</i></p>
                  {% else %}
                  <p class="card-text">Review: {{item[5]}}</p>
                  {% endif %}
                  <a href="/recipe/{{item[0]}}" class="btn btn-outline-secondary">Go to Recipe!</a>
                </div>
            </div>
            {% endfor %}
        </div>
        {% else %}
        <div class="wrap-all-recipes font">
            {% for item in search_title %}
            <div class="card">
                <div class="card-body">
                  <h5 class="card-title spacing-normal">{{item[1]}}</h5>
                  <b><p class="card-text">Cook time: {{item[2]}}</p></b>
                  <p class="card-text">{{item[3]}}</p>
                  <a href="/recipe/{{item[0]}}" class="btn btn-outline-secondary">Go to Recipe!</a>
                </div>
            </div>
            {% endfor %}
        </div>
        {% endif %}
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous"></script>
</body>
{% endblock %}